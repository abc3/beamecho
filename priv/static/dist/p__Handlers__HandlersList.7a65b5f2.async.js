"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[535],{31484:function(L,j,e){e.d(j,{Z:function(){return y}});var g=e(1413),u=e(67294),D={icon:function(b,f){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:f}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:b}}]}},name:"delete",theme:"twotone"},t=D,i=e(91146),o=function(b,f){return u.createElement(i.Z,(0,g.Z)((0,g.Z)({},b),{},{ref:f,icon:t}))};o.displayName="DeleteTwoTone";var y=u.forwardRef(o)},34804:function(L,j,e){var g=e(1413),u=e(67294),D=e(66023),t=e(91146),i=function(y,d){return u.createElement(t.Z,(0,g.Z)((0,g.Z)({},y),{},{ref:d,icon:D.Z}))};i.displayName="DownOutlined",j.Z=u.forwardRef(i)},85034:function(L,j,e){e.r(j),e.d(j,{default:function(){return p}});var g=e(97857),u=e.n(g),D=e(11774),t=e(68508),i=e(45360),o=e(85418),y=e(15867),d=e(4393),b=e(36692),f=e(1413),M=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},w=O,P=e(91146),U=function(I,H){return M.createElement(P.Z,(0,f.Z)((0,f.Z)({},I),{},{ref:H,icon:w}))};U.displayName="FileAddOutlined";var _=M.forwardRef(U),E=e(31484),h=e(34804),r=e(80854),l=e(71344),v=e(44334),c=e(27484),s=e.n(c),n=e(85893),a=function(I){var H=(0,r.useRequest)(function(C){return console.log("form data",C),(0,l.rU)()},{throwOnError:!0}),Z=H.data,$=H.loading,K=H.run,W=[];Z&&Z.length>0&&(W=Z.map(function(C,A){return u()(u()({},C),{},{key:A})}));var z=[{title:"#",dataIndex:"key",key:"key"},{title:"Name",dataIndex:"name",key:"name",render:function(A,T){return(0,n.jsxs)("a",{onClick:function(){return r.history.push("/handlers/"+T.id)},children:[" ",A]})}},{title:"App",dataIndex:"app",key:"app",render:function(A,T){return(0,n.jsxs)("a",{onClick:function(){return r.history.push("/apps/"+T.app.id)},children:[" ",T.app.name]})}},{title:"Source",dataIndex:"source",key:"source",render:function(A,T){return(0,n.jsxs)("a",{onClick:function(){return r.history.push("/sources/"+T.source.id)},children:[" ",T.source.name]})}},{title:"Created",dataIndex:"inserted_at",key:"inserted_at",render:function(A){return s()(A).format("HH:mm:ss DD/MM/YY")}},{title:"",dataIndex:"action",key:"action",render:function(A,T){var B=(0,n.jsxs)(t.Z,{children:[(0,n.jsxs)(t.Z.Item,{disabled:!1,onClick:function(){(0,v.Y$)(T.id).then(function(R){i.ZP.success("Job added successfully ".concat(R)),K()}).catch(function(R){i.ZP.error("Failed to add job ".concat(R))})},children:[(0,n.jsx)(_,{style:{fontSize:18}})," Push"]},"add_job"),(0,n.jsxs)(t.Z.Item,{disabled:!1,onClick:function(){(0,l.ZY)(T.id).then(function(R){i.ZP.success("Job deleted successfully"),K()}).catch(function(R){i.ZP.error("Failed to delete job")})},children:[(0,n.jsx)(E.Z,{style:{fontSize:18}})," Delete"]},"delete")]});return(0,n.jsx)(o.Z,{overlay:B,trigger:["click"],children:(0,n.jsxs)("a",{className:"ant-dropdown-link",onClick:function(R){return R.preventDefault()},children:["Action ",(0,n.jsx)(h.Z,{})]})})}}];return(0,n.jsxs)(D._z,{children:[(0,n.jsx)(y.ZP,{type:"primary",onClick:function(){r.history.push("/handlers/new")},style:{marginBottom:"15px"},children:" + Add new Handler"}),(0,n.jsx)(d.Z,{children:(0,n.jsx)(b.Z,{loading:$,dataSource:W,columns:z})})]})},p=a},71344:function(L,j,e){e.d(j,{DS:function(){return M},Hj:function(){return U},ZY:function(){return r},cY:function(){return w},ev:function(){return E},rU:function(){return b}});var g=e(97857),u=e.n(g),D=e(15009),t=e.n(D),i=e(99289),o=e.n(i),y=e(80854),d=e(9986);function b(){return f.apply(this,arguments)}function f(){return f=o()(t()().mark(function s(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.U2)("/api/handlers"));case 1:case"end":return a.stop()}},s)})),f.apply(this,arguments)}function M(s){return O.apply(this,arguments)}function O(){return O=o()(t()().mark(function s(n){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n){p.next=2;break}return p.abrupt("return",Promise.resolve({}));case 2:return p.abrupt("return",(0,d.U2)("/api/handlers/".concat(n)));case 3:case"end":return p.stop()}},s)})),O.apply(this,arguments)}function w(s,n){return P.apply(this,arguments)}function P(){return P=o()(t()().mark(function s(n,a){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,d.gz)("/api/handlers/".concat(n),"handler",a));case 1:case"end":return m.stop()}},s)})),P.apply(this,arguments)}function U(s,n){return _.apply(this,arguments)}function _(){return _=o()(t()().mark(function s(n,a){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,d.v_)("/api/handlers","handler",n,a));case 1:case"end":return m.stop()}},s)})),_.apply(this,arguments)}function E(s,n){return h.apply(this,arguments)}function h(){return h=o()(t()().mark(function s(n,a){var p;return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return p={source_id:n,query:a},I.abrupt("return",(0,d.v_)("/api/handlers/source_query","source_query",p));case 2:case"end":return I.stop()}},s)})),h.apply(this,arguments)}function r(s){return l.apply(this,arguments)}function l(){return l=o()(t()().mark(function s(n){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,d.IV)("/api/handlers/".concat(n)));case 1:case"end":return p.stop()}},s)})),l.apply(this,arguments)}function v(s,n){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function s(n,a){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n){m.next=2;break}return m.abrupt("return",Promise.resolve({}));case 2:return m.abrupt("return",request("/api/handlers/".concat(n,"/send"),_objectSpread({method:"GET"},a||{})));case 3:case"end":return m.stop()}},s)})),c.apply(this,arguments)}},44334:function(L,j,e){e.d(j,{Gl:function(){return O},Ly:function(){return o},OR:function(){return d},UU:function(){return P},Y$:function(){return f}});var g=e(15009),u=e.n(g),D=e(99289),t=e.n(D),i=e(9986);function o(){return y.apply(this,arguments)}function y(){return y=t()(u()().mark(function _(){return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,i.U2)("/api/jobs"));case 1:case"end":return h.stop()}},_)})),y.apply(this,arguments)}function d(_){return b.apply(this,arguments)}function b(){return b=t()(u()().mark(function _(E){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.IV)("/api/jobs/".concat(E)));case 1:case"end":return r.stop()}},_)})),b.apply(this,arguments)}function f(_){return M.apply(this,arguments)}function M(){return M=t()(u()().mark(function _(E){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.U2)("/api/jobs/".concat(E,"/add")));case 1:case"end":return r.stop()}},_)})),M.apply(this,arguments)}function O(_){return w.apply(this,arguments)}function w(){return w=t()(u()().mark(function _(E){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.U2)("/api/jobs/".concat(E,"/restart")));case 1:case"end":return r.stop()}},_)})),w.apply(this,arguments)}function P(_){return U.apply(this,arguments)}function U(){return U=t()(u()().mark(function _(E){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.U2)("/api/jobs/".concat(E,"/cancel")));case 1:case"end":return r.stop()}},_)})),U.apply(this,arguments)}},9986:function(L,j,e){e.d(j,{IV:function(){return E},U2:function(){return M},gz:function(){return U},v_:function(){return w}});var g=e(9783),u=e.n(g),D=e(15009),t=e.n(D),i=e(97857),o=e.n(i),y=e(99289),d=e.n(y),b=e(80854);function f(){return localStorage.getItem("_bec_access_token")}function M(r,l,v){return O.apply(this,arguments)}function O(){return O=d()(t()().mark(function r(l,v,c){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("call get()",l,v,c),n.abrupt("return",(0,b.request)(l,o()({method:"GET",headers:{Authorization:f()},params:o()({},v)},c||{})));case 2:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function w(r,l,v,c){return P.apply(this,arguments)}function P(){return P=d()(t()().mark(function r(l,v,c,s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("post",l,v,c,s),a.abrupt("return",(0,b.request)(l,o()({method:"POST",headers:{Authorization:f()},data:u()({},v,c)},s||{})));case 2:case"end":return a.stop()}},r)})),P.apply(this,arguments)}function U(r,l,v,c){return _.apply(this,arguments)}function _(){return _=d()(t()().mark(function r(l,v,c,s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("put",l,c,s),a.abrupt("return",(0,b.request)(l,o()({method:"PUT",headers:{Authorization:f()},data:u()({},v,c)},s||{})));case 2:case"end":return a.stop()}},r)})),_.apply(this,arguments)}function E(r,l,v){return h.apply(this,arguments)}function h(){return h=d()(t()().mark(function r(l,v,c){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("del",l,v,c),n.abrupt("return",(0,b.request)(l,o()({method:"DELETE",headers:{Authorization:f()},data:{app:o()({},v)}},c||{})));case 2:case"end":return n.stop()}},r)})),h.apply(this,arguments)}}}]);
