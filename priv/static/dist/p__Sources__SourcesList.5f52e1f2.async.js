"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[409],{31484:function(H,D,n){n.d(D,{Z:function(){return S}});var a=n(1413),i=n(67294),j={icon:function(C,b){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:b}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:C}}]}},name:"delete",theme:"twotone"},_=j,P=n(91146),d=function(C,b){return i.createElement(P.Z,(0,a.Z)((0,a.Z)({},C),{},{ref:b,icon:_}))};d.displayName="DeleteTwoTone";var S=i.forwardRef(d)},34804:function(H,D,n){var a=n(1413),i=n(67294),j=n(66023),_=n(91146),P=function(S,h){return i.createElement(_.Z,(0,a.Z)((0,a.Z)({},S),{},{ref:h,icon:j.Z}))};P.displayName="DownOutlined",D.Z=i.forwardRef(P)},41580:function(H,D,n){n.r(D);var a=n(97857),i=n.n(a),j=n(11774),_=n(66309),P=n(68508),d=n(45360),S=n(85418),h=n(15867),C=n(4393),b=n(36692),W=n(31484),x=n(34804),T=n(80854),M=n(1827),p=n(85893),y=function(g){var l=(0,T.useRequest)(function(u){return console.log("form data",u),(0,M.e6)()},{throwOnError:!0}),s=l.data,t=l.loading,v=l.run,I=[];s&&s.length>0&&(I=s.map(function(u,U){return i()(i()({},u),{},{key:U})}));var E=[{title:"#",dataIndex:"key",key:"key"},{title:"Name",dataIndex:"name",key:"name",render:function(U,K){return(0,p.jsxs)("a",{onClick:function(){return T.history.push("/sources/"+K.id)},children:[" ",U]})}},{title:"Type",dataIndex:"type",render:function(U){return(0,p.jsx)(_.Z,{color:"blue",children:"PostgreSQL"})}},{title:"Host",dataIndex:"host",key:"name",render:function(U,K){return(0,p.jsxs)("a",{onClick:function(){return T.history.push("/sources/"+K.id)},children:[" ",U]})}},{title:"Port",dataIndex:"dbport",key:"dbport"},{title:"User",dataIndex:"dbuser",key:"dbuser"},{title:"",dataIndex:"action",key:"action",render:function(U,K){var V=(0,p.jsx)(P.Z,{children:(0,p.jsxs)(P.Z.Item,{disabled:!1,onClick:function(){(0,M.bx)(K.id).then(function(F){d.ZP.success("App deleted successfully"),v()}).catch(function(F){d.ZP.error("Failed to delete app")})},children:[(0,p.jsx)(W.Z,{style:{fontSize:18}})," Delete"]},"delete")});return(0,p.jsx)(S.Z,{overlay:V,trigger:["click"],children:(0,p.jsxs)("a",{className:"ant-dropdown-link",onClick:function(F){return F.preventDefault()},children:["Action ",(0,p.jsx)(x.Z,{})]})})}}];return(0,p.jsxs)(j._z,{children:[(0,p.jsx)(h.ZP,{type:"primary",onClick:function(){T.history.push("/sources/new")},style:{marginBottom:"15px"},children:" + Add new source"}),(0,p.jsx)(C.Z,{children:(0,p.jsx)(b.Z,{loading:t,dataSource:I.map(function(u,U){return i()(i()({},u),{},{key:U})}),columns:E})})]})};D.default=y},1827:function(H,D,n){n.d(D,{V9:function(){return T},b5:function(){return C},bx:function(){return W},e6:function(){return S},j1:function(){return p}});var a=n(15009),i=n.n(a),j=n(99289),_=n.n(j),P=n(80854),d=n(9986);function S(){return h.apply(this,arguments)}function h(){return h=_()(i()().mark(function f(){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,d.U2)("/api/sources"));case 1:case"end":return l.stop()}},f)})),h.apply(this,arguments)}function C(f,g){return b.apply(this,arguments)}function b(){return b=_()(i()().mark(function f(g,l){return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(g){t.next=2;break}return t.abrupt("return",Promise.resolve({}));case 2:return t.abrupt("return",(0,d.U2)("/api/sources/".concat(g)));case 3:case"end":return t.stop()}},f)})),b.apply(this,arguments)}function W(f){return x.apply(this,arguments)}function x(){return x=_()(i()().mark(function f(g){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.IV)("/api/sources/".concat(g)));case 1:case"end":return s.stop()}},f)})),x.apply(this,arguments)}function T(f,g){return M.apply(this,arguments)}function M(){return M=_()(i()().mark(function f(g,l){return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.gz)("/api/sources/".concat(g),"source",l));case 1:case"end":return t.stop()}},f)})),M.apply(this,arguments)}function p(f,g){return y.apply(this,arguments)}function y(){return y=_()(i()().mark(function f(g,l){return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.v_)("/api/sources","source",g,l));case 1:case"end":return t.stop()}},f)})),y.apply(this,arguments)}},9986:function(H,D,n){n.d(D,{IV:function(){return f},U2:function(){return W},gz:function(){return p},v_:function(){return T}});var a=n(9783),i=n.n(a),j=n(15009),_=n.n(j),P=n(97857),d=n.n(P),S=n(99289),h=n.n(S),C=n(80854);function b(){return localStorage.getItem("_bec_access_token")}function W(l,s,t){return x.apply(this,arguments)}function x(){return x=h()(_()().mark(function l(s,t,v){return _()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return console.log("call get()",s,t,v),E.abrupt("return",(0,C.request)(s,d()({method:"GET",headers:{Authorization:b()},params:d()({},t)},v||{})));case 2:case"end":return E.stop()}},l)})),x.apply(this,arguments)}function T(l,s,t,v){return M.apply(this,arguments)}function M(){return M=h()(_()().mark(function l(s,t,v,I){return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("post",s,t,v,I),u.abrupt("return",(0,C.request)(s,d()({method:"POST",headers:{Authorization:b()},data:i()({},t,v)},I||{})));case 2:case"end":return u.stop()}},l)})),M.apply(this,arguments)}function p(l,s,t,v){return y.apply(this,arguments)}function y(){return y=h()(_()().mark(function l(s,t,v,I){return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("put",s,v,I),u.abrupt("return",(0,C.request)(s,d()({method:"PUT",headers:{Authorization:b()},data:i()({},t,v)},I||{})));case 2:case"end":return u.stop()}},l)})),y.apply(this,arguments)}function f(l,s,t){return g.apply(this,arguments)}function g(){return g=h()(_()().mark(function l(s,t,v){return _()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return console.log("del",s,t,v),E.abrupt("return",(0,C.request)(s,d()({method:"DELETE",headers:{Authorization:b()},data:{app:d()({},t)}},v||{})));case 2:case"end":return E.stop()}},l)})),g.apply(this,arguments)}},66309:function(H,D,n){n.d(D,{Z:function(){return F}});var a=n(67294),i=n(62208),j=n(94184),_=n.n(j),P=n(98787),d=n(69760),S=n(45353),h=n(53124),C=n(6731),b=n(10274),W=n(14747),x=n(45503),T=n(91945);const M=e=>{const{paddingXXS:c,lineWidth:m,tagPaddingHorizontal:r,componentCls:o,calc:A}=e,O=A(r).sub(m).equal(),w=A(c).sub(m).equal();return{[o]:Object.assign(Object.assign({},(0,W.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:O,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,C.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:w,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:O}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},p=e=>{const{lineWidth:c,fontSizeIcon:m,calc:r}=e,o=e.fontSizeSM;return(0,x.TS)(e,{tagFontSize:o,tagLineHeight:(0,C.bf)(r(e.lineHeightSM).mul(o).equal()),tagIconSize:r(m).sub(r(c).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary})},y=e=>({defaultBg:new b.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var f=(0,T.I$)("Tag",e=>{const c=p(e);return M(c)},y),g=function(e,c){var m={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(m[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)c.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(m[r[o]]=e[r[o]]);return m},s=a.forwardRef((e,c)=>{const{prefixCls:m,style:r,className:o,checked:A,onChange:O,onClick:w}=e,R=g(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:G,tag:$}=a.useContext(h.E_),Q=Y=>{O==null||O(!A),w==null||w(Y)},Z=G("tag",m),[z,k,J]=f(Z),L=_()(Z,`${Z}-checkable`,{[`${Z}-checkable-checked`]:A},$==null?void 0:$.className,o,k,J);return z(a.createElement("span",Object.assign({},R,{ref:c,style:Object.assign(Object.assign({},r),$==null?void 0:$.style),className:L,onClick:Q})))}),t=n(98719);const v=e=>(0,t.Z)(e,(c,m)=>{let{textColor:r,lightBorderColor:o,lightColor:A,darkColor:O}=m;return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:r,background:A,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:O,borderColor:O},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var I=(0,T.bk)(["Tag","preset"],e=>{const c=p(e);return v(c)},y);function E(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const u=(e,c,m)=>{const r=E(m);return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:e[`color${m}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var U=(0,T.bk)(["Tag","status"],e=>{const c=p(e);return[u(c,"success","Success"),u(c,"processing","Info"),u(c,"error","Error"),u(c,"warning","Warning")]},y),K=function(e,c){var m={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(m[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)c.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(m[r[o]]=e[r[o]]);return m};const V=(e,c)=>{const{prefixCls:m,className:r,rootClassName:o,style:A,children:O,icon:w,color:R,onClose:G,closeIcon:$,closable:Q,bordered:Z=!0}=e,z=K(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:k,direction:J,tag:L}=a.useContext(h.E_),[Y,ee]=a.useState(!0);a.useEffect(()=>{"visible"in z&&ee(z.visible)},[z.visible]);const ne=(0,P.o2)(R),re=(0,P.yT)(R),q=ne||re,ae=Object.assign(Object.assign({backgroundColor:R&&!q?R:void 0},L==null?void 0:L.style),A),B=k("tag",m),[le,ce,ie]=f(B),ue=_()(B,L==null?void 0:L.className,{[`${B}-${R}`]:q,[`${B}-has-color`]:R&&!q,[`${B}-hidden`]:!Y,[`${B}-rtl`]:J==="rtl",[`${B}-borderless`]:!Z},r,o,ce,ie),te=N=>{N.stopPropagation(),G==null||G(N),!N.defaultPrevented&&ee(!1)},[,_e]=(0,d.Z)(Q,$,N=>N===null?a.createElement(i.Z,{className:`${B}-close-icon`,onClick:te}):a.createElement("span",{className:`${B}-close-icon`,onClick:te},N),null,!1),de=typeof z.onClick=="function"||O&&O.type==="a",se=w||null,pe=se?a.createElement(a.Fragment,null,se,O&&a.createElement("span",null,O)):O,oe=a.createElement("span",Object.assign({},z,{ref:c,className:ue,style:ae}),pe,_e,ne&&a.createElement(I,{key:"preset",prefixCls:B}),re&&a.createElement(U,{key:"status",prefixCls:B}));return le(de?a.createElement(S.Z,{component:"Tag"},oe):oe)},X=a.forwardRef(V);X.CheckableTag=s;var F=X}}]);
