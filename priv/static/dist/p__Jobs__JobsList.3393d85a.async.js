"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[814],{31484:function(K,M,n){n.d(M,{Z:function(){return I}});var l=n(1413),c=n(67294),R={icon:function(C,x){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:x}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:C}}]}},name:"delete",theme:"twotone"},u=R,m=n(91146),f=function(C,x){return c.createElement(m.Z,(0,l.Z)((0,l.Z)({},C),{},{ref:x,icon:u}))};f.displayName="DeleteTwoTone";var I=c.forwardRef(f)},34804:function(K,M,n){var l=n(1413),c=n(67294),R=n(66023),u=n(91146),m=function(I,P){return c.createElement(u.Z,(0,l.Z)((0,l.Z)({},I),{},{ref:P,icon:R.Z}))};m.displayName="DownOutlined",M.Z=c.forwardRef(m)},96482:function(K,M,n){n.r(M),n.d(M,{default:function(){return Y}});var l=n(97857),c=n.n(l),R=n(11774),u=n(66309),m=n(68508),f=n(45360),I=n(85418),P=n(15867),C=n(4393),x=n(36692),$=n(1413),U=n(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},A=Z,w=n(91146),i=function(r,s){return U.createElement(w.Z,(0,$.Z)((0,$.Z)({},r),{},{ref:s,icon:A}))};i.displayName="SyncOutlined";var S=U.forwardRef(i),E={icon:function(r,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:r}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:s}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:r}}]}},name:"close-circle",theme:"twotone"},o=E,p=function(r,s){return U.createElement(w.Z,(0,$.Z)((0,$.Z)({},r),{},{ref:s,icon:o}))};p.displayName="CloseCircleTwoTone";var g=U.forwardRef(p),y=n(31484),B=n(34804),j=n(80854),_=n(44334),V=n(27484),F=n.n(V),h=n(85893),G=function(r){var s=(0,j.useRequest)(function(T){return console.log("form data",T),(0,_.Ly)()},{throwOnError:!0}),t=s.data,a=s.loading,D=s.run,v=[];t&&t.length>0&&(v=t.map(function(T,O){return c()(c()({},T),{},{key:O})}));var W=[{title:"#",dataIndex:"key",key:"key"},{title:"Status",dataIndex:"status",key:"status",render:function(O){var d="red";switch(O){case"scheduled":d="blue";break;case"running":d="blue";break;case"completed":d="green";break;case"failed":d="red";break;case"cancelled":d="gray";break}return(0,h.jsx)(u.Z,{color:d,children:O})}},{title:"Handler",dataIndex:"name",key:"name",render:function(O,d){return console.log(O,d),(0,h.jsxs)("a",{onClick:function(){return j.history.push("/handlers/"+d.handler.id)},children:[" ",d.handler.name]})}},{title:"Sent",dataIndex:"sent_success",key:"sent_success"},{title:"Failed",dataIndex:"sent_failed",key:"sent_failed"},{title:"Started",dataIndex:"started_at",key:"started_at",render:function(O){return F()(O).format("HH:mm:ss DD/MM/YY")}},{title:"Finished",dataIndex:"finished_at",key:"finished_at",render:function(O){return F()(O).format("HH:mm:ss DD/MM/YY")}},{title:"",dataIndex:"action",key:"action",render:function(O,d){var H=(0,h.jsxs)(m.Z,{children:[(0,h.jsxs)(m.Z.Item,{disabled:!1,onClick:function(){(0,_.Gl)(d.id).then(function(b){f.ZP.success("Job restarted successfully ".concat(JSON.stringify(b))),D()}).catch(function(b){f.ZP.error("Failed to restart job")})},children:[(0,h.jsx)(S,{style:{fontSize:18,color:"#1890ff"}})," Restart"]},"restart"),(0,h.jsxs)(m.Z.Item,{disabled:!1,onClick:function(){(0,_.UU)(d.id).then(function(b){f.ZP.success("Response ".concat(JSON.stringify(b))),D()}).catch(function(b){f.ZP.error("Failed to cancel job ".concat(JSON.stringify(b)))})},children:[(0,h.jsx)(g,{style:{fontSize:21}})," Cancel"]},"stop"),(0,h.jsxs)(m.Z.Item,{disabled:!1,onClick:function(){(0,_.OR)(d.id).then(function(b){f.ZP.success("Job deleted successfully"),D()}).catch(function(b){f.ZP.error("Failed to delete job")})},children:[(0,h.jsx)(y.Z,{style:{fontSize:18}})," Delete"]},"delete")]});return(0,h.jsx)(I.Z,{overlay:H,trigger:["click"],children:(0,h.jsxs)("a",{className:"ant-dropdown-link",onClick:function(b){return b.preventDefault()},children:["Action ",(0,h.jsx)(B.Z,{})]})})}}];return(0,h.jsxs)(R._z,{children:[(0,h.jsx)(P.ZP,{type:"primary",onClick:D,style:{marginBottom:"15px"},children:" Refresh"}),(0,h.jsx)(C.Z,{children:(0,h.jsx)(x.Z,{loading:a,dataSource:v,columns:W})})]})},Y=G},44334:function(K,M,n){n.d(M,{Gl:function(){return U},Ly:function(){return f},OR:function(){return P},UU:function(){return A},Y$:function(){return x}});var l=n(15009),c=n.n(l),R=n(99289),u=n.n(R),m=n(9986);function f(){return I.apply(this,arguments)}function I(){return I=u()(c()().mark(function i(){return c()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,m.U2)("/api/jobs"));case 1:case"end":return E.stop()}},i)})),I.apply(this,arguments)}function P(i){return C.apply(this,arguments)}function C(){return C=u()(c()().mark(function i(S){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.IV)("/api/jobs/".concat(S)));case 1:case"end":return o.stop()}},i)})),C.apply(this,arguments)}function x(i){return $.apply(this,arguments)}function $(){return $=u()(c()().mark(function i(S){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.U2)("/api/jobs/".concat(S,"/add")));case 1:case"end":return o.stop()}},i)})),$.apply(this,arguments)}function U(i){return Z.apply(this,arguments)}function Z(){return Z=u()(c()().mark(function i(S){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.U2)("/api/jobs/".concat(S,"/restart")));case 1:case"end":return o.stop()}},i)})),Z.apply(this,arguments)}function A(i){return w.apply(this,arguments)}function w(){return w=u()(c()().mark(function i(S){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.U2)("/api/jobs/".concat(S,"/cancel")));case 1:case"end":return o.stop()}},i)})),w.apply(this,arguments)}},9986:function(K,M,n){n.d(M,{IV:function(){return S},U2:function(){return $},gz:function(){return w},v_:function(){return Z}});var l=n(9783),c=n.n(l),R=n(15009),u=n.n(R),m=n(97857),f=n.n(m),I=n(99289),P=n.n(I),C=n(80854);function x(){return localStorage.getItem("_bec_access_token")}function $(o,p,g){return U.apply(this,arguments)}function U(){return U=P()(u()().mark(function o(p,g,y){return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("call get()",p,g,y),j.abrupt("return",(0,C.request)(p,f()({method:"GET",headers:{Authorization:x()},params:f()({},g)},y||{})));case 2:case"end":return j.stop()}},o)})),U.apply(this,arguments)}function Z(o,p,g,y){return A.apply(this,arguments)}function A(){return A=P()(u()().mark(function o(p,g,y,B){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return console.log("post",p,g,y,B),_.abrupt("return",(0,C.request)(p,f()({method:"POST",headers:{Authorization:x()},data:c()({},g,y)},B||{})));case 2:case"end":return _.stop()}},o)})),A.apply(this,arguments)}function w(o,p,g,y){return i.apply(this,arguments)}function i(){return i=P()(u()().mark(function o(p,g,y,B){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return console.log("put",p,y,B),_.abrupt("return",(0,C.request)(p,f()({method:"PUT",headers:{Authorization:x()},data:c()({},g,y)},B||{})));case 2:case"end":return _.stop()}},o)})),i.apply(this,arguments)}function S(o,p,g){return E.apply(this,arguments)}function E(){return E=P()(u()().mark(function o(p,g,y){return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("del",p,g,y),j.abrupt("return",(0,C.request)(p,f()({method:"DELETE",headers:{Authorization:x()},data:{app:f()({},g)}},y||{})));case 2:case"end":return j.stop()}},o)})),E.apply(this,arguments)}},66309:function(K,M,n){n.d(M,{Z:function(){return Y}});var l=n(67294),c=n(62208),R=n(94184),u=n.n(R),m=n(98787),f=n(69760),I=n(45353),P=n(53124),C=n(6731),x=n(10274),$=n(14747),U=n(45503),Z=n(91945);const A=e=>{const{paddingXXS:r,lineWidth:s,tagPaddingHorizontal:t,componentCls:a,calc:D}=e,v=D(t).sub(s).equal(),W=D(r).sub(s).equal();return{[a]:Object.assign(Object.assign({},(0,$.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:v,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,C.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${a}-close-icon`]:{marginInlineStart:W,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:v}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},w=e=>{const{lineWidth:r,fontSizeIcon:s,calc:t}=e,a=e.fontSizeSM;return(0,U.TS)(e,{tagFontSize:a,tagLineHeight:(0,C.bf)(t(e.lineHeightSM).mul(a).equal()),tagIconSize:t(s).sub(t(r).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary})},i=e=>({defaultBg:new x.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var S=(0,Z.I$)("Tag",e=>{const r=w(e);return A(r)},i),E=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(s[t[a]]=e[t[a]]);return s},p=l.forwardRef((e,r)=>{const{prefixCls:s,style:t,className:a,checked:D,onChange:v,onClick:W}=e,T=E(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:O,tag:d}=l.useContext(P.E_),H=Q=>{v==null||v(!D),W==null||W(Q)},L=O("tag",s),[b,X,k]=S(L),N=u()(L,`${L}-checkable`,{[`${L}-checkable-checked`]:D},d==null?void 0:d.className,a,X,k);return b(l.createElement("span",Object.assign({},T,{ref:r,style:Object.assign(Object.assign({},t),d==null?void 0:d.style),className:N,onClick:H})))}),g=n(98719);const y=e=>(0,g.Z)(e,(r,s)=>{let{textColor:t,lightBorderColor:a,lightColor:D,darkColor:v}=s;return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:t,background:D,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:v,borderColor:v},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var B=(0,Z.bk)(["Tag","preset"],e=>{const r=w(e);return y(r)},i);function j(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const _=(e,r,s)=>{const t=j(s);return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:e[`color${s}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var V=(0,Z.bk)(["Tag","status"],e=>{const r=w(e);return[_(r,"success","Success"),_(r,"processing","Info"),_(r,"error","Error"),_(r,"warning","Warning")]},i),F=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(s[t[a]]=e[t[a]]);return s};const h=(e,r)=>{const{prefixCls:s,className:t,rootClassName:a,style:D,children:v,icon:W,color:T,onClose:O,closeIcon:d,closable:H,bordered:L=!0}=e,b=F(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:X,direction:k,tag:N}=l.useContext(P.E_),[Q,ee]=l.useState(!0);l.useEffect(()=>{"visible"in b&&ee(b.visible)},[b.visible]);const ne=(0,m.o2)(T),te=(0,m.yT)(T),q=ne||te,ae=Object.assign(Object.assign({backgroundColor:T&&!q?T:void 0},N==null?void 0:N.style),D),z=X("tag",s),[le,ce,ie]=S(z),ue=u()(z,N==null?void 0:N.className,{[`${z}-${T}`]:q,[`${z}-has-color`]:T&&!q,[`${z}-hidden`]:!Q,[`${z}-rtl`]:k==="rtl",[`${z}-borderless`]:!L},t,a,ce,ie),re=J=>{J.stopPropagation(),O==null||O(J),!J.defaultPrevented&&ee(!1)},[,de]=(0,f.Z)(H,d,J=>J===null?l.createElement(c.Z,{className:`${z}-close-icon`,onClick:re}):l.createElement("span",{className:`${z}-close-icon`,onClick:re},J),null,!1),fe=typeof b.onClick=="function"||v&&v.type==="a",oe=W||null,me=oe?l.createElement(l.Fragment,null,oe,v&&l.createElement("span",null,v)):v,se=l.createElement("span",Object.assign({},b,{ref:r,className:ue,style:ae}),me,de,ne&&l.createElement(B,{key:"preset",prefixCls:z}),te&&l.createElement(V,{key:"status",prefixCls:z}));return le(fe?l.createElement(I.Z,{component:"Tag"},se):se)},G=l.forwardRef(h);G.CheckableTag=p;var Y=G}}]);
